<script type="text/javascript">
/*
programa que calcula el total a pagar por un tipo de producto
-pregunta el precio.
-la cantidad de art√≠culos.
-calcula el subtotal.
-desglosa el iva.
-entrega en la consola el total a pagar.

Entradas: cantidad de producto
Proceso: cp X pre, eso *16%, suma.
Salida:

      Subtotal: $000,000.00
      IVA: $000,000.00
      Total: $000,000.00
*/
var surcharges;

price = ask('Type the price of the product');
quantity= ask('Type quantity of products');
surcharges = calcSurcharges(price, quantity);
printTicket(surcharges.subtotal, surcharges.tax, surcharges.total);

/**
 * [ask description]
 * @param  {[type]} mensaje [description]
 * @return {[type]}         [description]
 */
function ask(message) {
  var number;
  do {
    number = prompt(message);
    if (isNaN(number)) {
      console.error(number, 'is not a valid price');
    }
  } while (isNaN(number));
  return number;
}

/**
 * Prints a ticket for a purchase including the subcharges.
 *
 * @param  {number} subtotal The subtotal of the purchase.
 * @param  {number} tax      Calculated tax for the purchase.
 * @param  {number} total    Total amount to be payed.
 */
function printTicket(subtotal, tax, total) {
  console.log('Thanks for your purchase.');
  console.log('Subtotal: $', subtotal);
  console.log('Tax: $', tax);
  console.log('Total: $', total);
}

/**
 * Calc the surcharges (subtotal, tax & total) based on price and quantity.
 * @param  {Number} price    The price of the product.
 * @param  {Number} quantity The amount of products to buy.
 *
 * @return {Object}          An object with the subtotal, tax & total.
 */
function calcSurcharges(price, quantity) {
  var subtotal;
  var tax ;
  var total;

  price = Number(price);
  quantity = Number(quantity);

  subtotal = price * quantity;
  tax = subtotal * .16;
  total = subtotal + tax;

  return {
    subtotal,
    tax,
    total
  };
}


</script>
